{"version":3,"sources":["components/Header.js","components/Id.js","components/Username.js","components/Table.js","components/Main.js","components/Footer.js","utils/constants.js","utils/api.js","utils/auth.js","components/ProtectedRoute.js","images/sucess.svg","images/fail.svg","components/InfoTooltip.js","components/Login.js","components/App.js","utils/keycode.js","reportWebVitals.js","index.js"],"names":["Header","token","onSignOut","className","path","exact","onClick","Id","sortId","name","Username","sortName","Table","data","map","user","id","username","is_superuser","is_staff","is_active","Main","props","onIdClick","onUsernameClick","users","Footer","options","url","api","this","_url","localStorage","getItem","fetch","headers","Authorization","res","ok","json","Promise","reject","Error","status","authentication","then","_getServerData","all","getProfileData","BASE_URL","ProtectedRoute","Component","component","loggedIn","to","InfoTooltip","isOpen","onPopupOverlayClose","src","isTooltipStatus","sucess","fail","alt","type","onClose","Login","handleLogin","useState","setUsername","password","setPassword","method","onSubmit","e","preventDefault","noValidate","placeholder","value","onChange","evt","target","App","allUser","setAllUsers","isTooltipOpen","setIsTooltipOpen","setLoggedIn","setToken","history","useHistory","handleLoggedIn","closeAllPopups","useEffect","getAllData","response","userData","catch","err","console","log","auth","push","React","sortFromId","setSortFromId","sortFromUsername","setSortFromUsername","onKeyDown","keyCode","tabIndex","removeItem","sort","a","b","body","JSON","stringify","auth_token","setItem","setTimeout","classList","contains","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70eed2af.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nfunction Header({token, onSignOut}) {\r\n    return (\r\n        <header className=\"header\">\r\n                <Route path=\"/login\">\r\n                    <p className='header__title'>Тестовое задание</p>\r\n                </Route>\r\n                <Route exact path=\"/\">\r\n                        <p className='header__email'>Auth token: {token}</p>\r\n                        <button className='header__button' onClick={onSignOut}>Выйти</button>\r\n                </Route>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nconst Id = ({ sortId }) => (\r\n    <button className=\"table__button\" name=\"age\" onClick={sortId}>\r\n        Id\r\n    </button>\r\n);\r\n\r\nexport default Id;\r\n","import React from \"react\";\r\n\r\nconst Username = ({ sortName }) => (\r\n    <button className=\"table__button\" name=\"age\" onClick={sortName}>\r\n        Username\r\n    </button>\r\n);\r\n\r\nexport default Username;\r\n","import React from \"react\";\r\n\r\nexport default function Table({ data }) {\r\n    return (\r\n        <div>\r\n            <table className=\"table__table\">\r\n                <thead>\r\n                <tr key=\"head\" className=\"table__head\"\r\n                >\r\n                    <th>Id</th>\r\n                    <th>Username</th>\r\n                    <th>Superuser</th>\r\n                    <th>Staff</th>\r\n                    <th>Active</th>\r\n                </tr>\r\n                </thead>\r\n\r\n                <tbody >\r\n                {data.map((user) => (\r\n                    <tr key ={user.id} className=\"table__cell\">\r\n                        <td>{user.id}</td>\r\n                        <td>{user.username}</td>\r\n                        <td>{`${user.is_superuser}`}</td>\r\n                        <td>{`${user.is_staff}`}</td>\r\n                        <td>{`${user.is_active}`}</td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Id from \"./Id\";\r\nimport Username from \"./Username\";\r\nimport Table from \"./Table\";\r\n\r\nfunction Main(props) {\r\n    return (\r\n        <div className=\"table\">\r\n            <h1 className=\"table__title\">Список пользователей</h1>\r\n            <h2 className=\"table__subtitle\">Сортировка по:</h2>\r\n            <div className=\"table__buttons\">\r\n                <Id sortId={props.onIdClick} />\r\n                <Username sortName={props.onUsernameClick} />\r\n            </div>\r\n            <Table data={props.users} />\r\n\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Main\r\n\r\n","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">X-Lab test</p>\r\n        </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","//адрес бэкэнда\r\nconst options = {\r\n    url: 'https://agile-garden-50413.herokuapp.com/api/',\r\n}\r\nexport default options;\r\n","import options from './constants'\r\n\r\nclass Api {\r\n    constructor(options) {\r\n        this._url = options.url;\r\n    }\r\n\r\n    authentication(name) {\r\n        const token = localStorage.getItem('token');\r\n        return fetch(`${this._url}${name}`, {\r\n            headers: {\r\n                Authorization: `Token ${token}`\r\n            }\r\n        });\r\n    }\r\n\r\n    _getServerData(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n\r\n    getProfileData() {\r\n        return this.authentication('users')\r\n            .then(res => this._getServerData(res));\r\n    }\r\n\r\n    getAllData() {\r\n        return Promise.all([this.getProfileData()]);\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api(options);\r\n\r\nexport default api;\r\n","export const BASE_URL = 'http://agile-garden-50413.herokuapp.com/api';\r\n\r\nexport const authorize = (password, username) => {\r\n    return fetch(`${BASE_URL}/token/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({password, username})\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n}\r\n\r\nexport const logout = (token) => {\r\n    return fetch(`${BASE_URL}/token/logout`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Token ${token}`,\r\n        }\r\n    })\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    console.log(token)\r\n    return fetch(`${BASE_URL}/users`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Token ${token}`,\r\n        }\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n}\r\n","import React from 'react';\r\nimport {Route, Redirect} from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n            }\r\n        </Route>\r\n    )}\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/sucess.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/fail.d4ce2a26.svg\";","import React from 'react';\r\nimport sucess from '../images/sucess.svg';\r\nimport fail from '../images/fail.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    return (\r\n        <section className={props.isOpen ? 'popup popup_opened' : 'popup'} onClick={props.onPopupOverlayClose}>\r\n            <div className=\"popup__container\">\r\n                <div className=\"popup__area popup__area_tooltip\">\r\n                    <img className=\"popup__tooltip-icon\" src={props.isTooltipStatus ? sucess : fail} alt=\"иконка результата\"/>\r\n                    <h2 className={`popup__tooltip-text`}>{props.isTooltipStatus ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</h2>\r\n                    <button className=\"popup__close\" type=\"button\" onClick={props.onClose}/>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","import React, {useState} from 'react';\r\n\r\n\r\nexport default function Login({handleLogin}) {\r\n\r\n    const[username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (!username || !username){\r\n            return;\r\n        }\r\n        handleLogin(password, username);\r\n    }\r\n\r\n    function handleEmail(evt) {\r\n        setUsername(evt.target.value);\r\n    }\r\n\r\n    function handlePassword(evt) {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <form className=\"auth\" method=\"POST\" name=\"login\" onSubmit={handleSubmit} noValidate>\r\n            <h2 className=\"auth__head\">Вход</h2>\r\n            <input className=\"auth__input\" type=\"email\" name=\"email\" placeholder=\"E-mail\" value={username} onChange={handleEmail} />\r\n            <input className=\"auth__input\" type=\"password\" name='password' placeholder=\"Пароль\" value={password} onChange={handlePassword} />\r\n            <button className=\"auth__button\" type=\"submit\">Войти</button>\r\n        </form>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Route, Switch, Redirect, useHistory} from 'react-router-dom';\r\nimport {useState, useEffect} from 'react'\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport ESC_KEYCODE from '../utils/keycode'\r\nimport api from \"../utils/api\";\r\nimport * as auth from '../utils/auth';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Login from './Login';\r\n\r\n\r\nfunction App() {\r\n    const [allUser, setAllUsers] = useState([]);\r\n\r\n\r\n    //попапы\r\n    const [isTooltipOpen, setIsTooltipOpen] = useState(false);\r\n    //авторизация\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n    const [token, setToken] = useState('');\r\n    const history = useHistory();\r\n\r\n    //получаем информацию пользователях\r\n    useEffect(() => {\r\n        if (loggedIn) {\r\n            api.getAllData()\r\n                .then((response => {\r\n                    const [userData] = response;\r\n                    setAllUsers (userData);\r\n                }))\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n\r\n    }, [loggedIn])\r\n    //аутентификация и токен\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            auth.getContent(token)\r\n                .then(data => {\r\n                    if (data) {\r\n                        setToken(token)\r\n                        handleLoggedIn();\r\n                        history.push('/');\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    //закрытие попапа по оверлею\r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains(\"popup\")) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n\r\n    function handleLoggedIn() {\r\n        setLoggedIn(!loggedIn);\r\n    }\r\n\r\n    // //обработчик авторизации пользователя\r\n    function handleLogin(password, username) {\r\n        auth.authorize(password, username)\r\n            .then(data => {\r\n                if (data.auth_token) {\r\n                    handleLoggedIn();\r\n                    localStorage.setItem('token', data.auth_token);\r\n                    history.push('/');\r\n                }\r\n            })\r\n            .catch(err => {\r\n                setIsTooltipOpen(true);\r\n                setTimeout(() =>\r\n                    setIsTooltipOpen(false), 2000);\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    //обработчик выхода пользователя\r\n    function handleSignOut() {\r\n        const token = localStorage.getItem('token');\r\n        auth.logout(token)\r\n            .then(response => {\r\n                localStorage.removeItem('token');\r\n                console.log(localStorage.removeItem('token'))\r\n                setLoggedIn(false);\r\n                history.push('/login');\r\n                console.log(response + '1')\r\n            })\r\n\r\n    }\r\n\r\n\r\n\r\n    function closeAllPopups() {\r\n        setIsTooltipOpen(false);\r\n    }\r\n\r\n    //закрытие по esc\r\n    function onKeyPressed(e) {\r\n        if (e.keyCode === ESC_KEYCODE) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n    //сортировка\r\n\r\n    const [sortFromId, setSortFromId] = React.useState(true);\r\n    const [sortFromUsername, setSortFromUsername] = React.useState(true);\r\n\r\n\r\n    function handleSortId() {\r\n        sortFromId\r\n            ? setAllUsers([...allUser.sort((a, b) => a.id - b.id)])\r\n            : setAllUsers([...allUser.sort((a, b) => b.id - a.id)]);\r\n        setSortFromId(!sortFromId);\r\n    }\r\n    function handleSortUsername() {\r\n        sortFromUsername\r\n            ? setAllUsers([...allUser.sort((a, b) => (a.username > b.username ? 1 : -1))])\r\n            : setAllUsers([...allUser.sort((a, b) => (a.username < b.username ? 1 : -1))]);\r\n        setSortFromUsername(!sortFromUsername);\r\n    }\r\n\r\n    return (\r\n            <div className=\"body\" onKeyDown={onKeyPressed} tabIndex=\"0\">\r\n                <div className=\"page\">\r\n                    <Header token={token} onSignOut={handleSignOut}/>\r\n                    <Switch>\r\n                        <Route exact path=\"/\">\r\n                            {loggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/login\"/>}\r\n                            <ProtectedRoute exact path=\"/\" users={allUser} loggedIn={loggedIn} component={Main}\r\n                                            onIdClick={handleSortId} onUsernameClick={handleSortUsername}\r\n                            />\r\n                        </Route>\r\n\r\n                        <Route path=\"/login\">\r\n                            <Login handleLogin={handleLogin}/>\r\n                        </Route>\r\n                    </Switch>\r\n                    <Footer/>\r\n\r\n                    <InfoTooltip isOpen={isTooltipOpen}\r\n                                 onClose={closeAllPopups} onPopupOverlayClose={handleOverlayClose}/>\r\n                </div>\r\n            </div>\r\n\r\n    );\r\n}\r\n\r\nexport default App;\r\n","//кнопка esc\r\nconst ESC_KEYCODE = 27;\r\nexport default ESC_KEYCODE;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}